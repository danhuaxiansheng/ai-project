# AI 小说创作系统

基于 DeepSeek 的智能小说创作系统，通过多角色协作的方式，帮助用户创作小说。

## 系统特点

1. **多角色自动协作**
   - 系统采用群聊形式，模拟真实的创作团队协作
   - 角色按管理层、创作层、质控层的顺序自动响应
   - 每个角色根据自身职责提供专业意见

2. **角色设定**
   - 管理层
     - 产品经理：负责整体产品规划与定义
     - 小说产品经理：专注网文市场分析
   - 创作层
     - 设定创作者：构建完整世界观体系
     - 小说创作者：进行核心故事创作
     - 创作助手：协助具体写作工作
   - 质控层
     - 评分员：评估作品质量
     - 审核员：把控作品整体质量

3. **工作流程**
   1. **用户输入**: 用户在系统中输入创作想法或小说片段
   2. **自动分工**: 系统自动触发多角色评审流程
      - 管理层优先响应，进行市场和商业价值分析
      - 创作层跟进，提供具体创作建议
      - 质控层最后把关，确保作品质量
   3. **实时反馈**: 各角色以群聊形式提供专业建议
   4. **用户确认**: 用户可以根据建议进行调整和确认
   5. **循环优化**: 通过多轮对话不断完善作品

4. **界面特点**
   - 群聊式界面设计
   - 角色头像和身份标识
   - 时间戳显示
   - 消息状态提示

## 技术实现

1. **前端架构**
   - Next.js + React
   - TailwindCSS 样式系统
   - TypeScript 类型支持

2. **核心功能**
   - 多角色自动响应机制
   - 上下文感知的对话系统
   - 实时状态反馈
   - 消息流程控制

3. **待实现功能**
   - DeepSeek API 集成
   - 角色间智能互动
   - 历史记录保存
   - 作品导出功能

## 使用说明

1. 输入创作想法或小说片段
2. 系统自动触发多角色评审
3. 等待各角色依次提供专业意见
4. 根据建议调整创作方向
5. 通过多轮对话完善作品

## 开发计划

- [x] 基础界面搭建
- [x] 多角色响应机制
- [x] 群聊式交互
- [ ] AI 模型集成
- [ ] 数据持久化
- [ ] 导出功能

## 项目目标

该模块作为整个 AI 小说创作系统的中央控制中心，拥有最高决策权限，负责实时监控、干预和调整所有 AI 角色的行为。通过实时对话方式，确保创作过程的质量和方向始终符合预期。

### 具体目标

1. **用户输入**: 用户在网页上输入一部分小说的片段，系统接收并处理这些输入。
2. **角色分析**: 启动多个角色（如小说审核员、评分员、专业创作者、设定创作者和产品经理）对用户输入的小说片段进行分析，并生成反馈。
3. **用户反馈与选择**: 用户对分析后的内容进行反馈和选择，保留部分特点并进行再次刷新，直到满意为止。
4. **角色创作**: 根据用户的最终选择，角色-小说创作者开始进行创作，其他角色也在同时工作，确保协作顺畅。
5. **实时反馈机制**: 各个角色向用户提供实时反馈，用户确认后再进入下一个角色的操作，形成类似群聊的互动。
6. **循环创作过程**: 通过不断的反馈和调整，最终创建出一部完整的小说。

## 核心定位
- 面向起点中文网
- 目标读者：18-40岁男性
- 创作风格：金庸笔法结合网文特色

## 项目规划

### 第一阶段
- [x] 项目基础架构搭建
- [x] AI 角色系统设计
- [ ] 用户交互界面开发
- [ ] 基础 AI 对话功能

### 第二阶段
- [ ] 多角色协同系统
- [ ] 实时反馈机制
- [ ] 创作质量评估系统
- [ ] 用户个性化配置

## 角色体系

### 1. 管理层（战略方向）
1. **产品经理**
   - 把控整体产品方向
   - 制定创作策略和计划
   - 协调各角色工作
   - 确保项目如期推进

2. **市场分析师**（新增）
   - 进行市场调研和分析
   - 研究读者偏好和市场趋势
   - 预测作品市场表现
   - 提供数据支持决策

### 2. 创作层（内容产出）
3. **世界观架构师**（原设定创作者）
   - 构建完整世界观体系
   - 设计核心规则和法则
   - 创建独特文化背景
   - 确保设定的一致性

4. **剧情设计师**（原小说创作者）
   - 设计主线剧情走向
   - 规划情节发展节奏
   - 设计关键剧情转折
   - 把控故事整体结构

5. **人物塑造师**（新增）
   - 设计角色性格特征
   - 构建人物关系网络
   - 设计角色成长轨迹
   - 确保人物形象丰满

6. **文案优化师**（新增）
   - 优化文字表达
   - 提升文学性和可读性
   - 打磨细节描写
   - 统一文风把控

### 3. 质控层（品质保障）
7. **体验官**（新增）
   - 从读者视角评估
   - 反馈阅读体验
   - 预测读者反应
   - 提供改进建议

8. **品质监理**（原审核员）
   - 把控整体作品质量
   - 审核内容合规性
   - 检查设定连贯性
   - 评估商业潜力

### 工作流程

1. **创意启动**
   - 产品经理确定创作方向
   - 市场分析师提供市场洞察
   - 体验官提供读者视角

2. **世界构建**
   - 世界观架构师搭建框架
   - 人物塑造师设计角色
   - 品质监理审核基础设定

3. **内容创作**
   - 剧情设计师规划故事
   - 文案优化师完善表达
   - 体验官实时反馈

4. **质量把控**
   - 品质监理全程监督
   - 市场分析师评估市场性
   - 产品经理最终决策

### 协作特点

1. **分工协作**
   - 每个角色各司其职
   - 职责明确不重叠
   - 协同效率最大化

2. **反馈机制**
   - 实时多向反馈
   - 快速迭代优化
   - 持续质量提升

3. **决策流程**
   - 基于数据的决策
   - 多角度的评估
   - 市场导向的调整

## DeepSeek API 集成

本系统使用 DeepSeek API 来实现各个角色的功能，通过 API 调用实现：
- 角色人格设定
- 内容生成和优化
- 多轮对话交互
- 实时反馈和修改

### 技术栈
- Monorepo
  - Turborepo
  - PNPM Workspace
- 前端框架
  - Next.js 14+
  - React 18+
  - TypeScript 5+
- 样式方案
  - Tailwind CSS
  - SCSS Modules
  - Shadcn/ui

### 开发指南

1. **环境准备**
```bash
# 安装 PNPM
npm install -g pnpm

# 安装依赖
pnpm install
```

2. **开发命令**
```bash
# 开发模式
pnpm dev

# 构建项目
pnpm build

# 代码检查
pnpm lint

# 格式化代码
pnpm format
```

3. **项目配置**
- 在 `.env.local` 中配置环境变量
- 确保 DeepSeek API Key 已正确设置

### 技术栈：全栈
- Monorepo
  - Turborepo
  - PNPM Workspace
- 前端框架
  - Next.js 14+
  - React 18+
  - TypeScript 5+
- 样式方案
  - Tailwind CSS
  - SCSS Modules
  - Shadcn/ui


### 项目结构
├── apps/
│   └── web/                # 主应用
├── packages/
│   ├── eslint-config/     # 共享 ESLint 配置
│   ├── typescript-config/ # 共享 TS 配置
│   └── ui/               # 共享 UI 组件
├── package.json          # 工作空间根配置
├── pnpm-workspace.yaml   # PNPM 工作空间配置
└── turbo.json           # Turbo 配置

### web应用结构
```bash
apps/web/src/
├── app/                    # Next.js 应用主目录
│   ├── layout.tsx         # 主布局
│   ├── page.tsx          # 首页
│   └── chat/             # 对话系统页面
├── components/            # 通用组件
│   ├── ui/               # UI基础组件
│   └── chat/             # 对话相关组件
├── lib/                   # 工具函数和配置
│   ├── deepseek/         # DeepSeek API 相关
│   └── roles/            # 角色系统相关
├── types/                # TypeScript 类型定义
└── styles/               # 样式文件
```
